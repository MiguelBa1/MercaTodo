import{M as Oe}from"./MainLayout-4ed0b131.js";import{D as se,r as u,J as A,L as k,o as je,M as Le,q as Ee,z as we,G as ne,N as xe,P as S,Q as g,F as ke,d as Ie,K as De,a as oe,k as ye,w as P,b as B,e as d,t as O,u as L,Z as Pe,c as Be,f as Re}from"./app-af608028.js";import{_ as Ve}from"./ProductCard-8f672aaf.js";import{u as $e}from"./cart-fd50cb26.js";import{g as Xe}from"./getProductImage-92473f05.js";import"./ApplicationLogo-4d97a218.js";import"./Dropdown-6c65a629.js";/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const f={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},_e={itemsToShow:{default:f.itemsToShow,type:Number},itemsToScroll:{default:f.itemsToScroll,type:Number},wrapAround:{default:f.wrapAround,type:Boolean},throttle:{default:f.throttle,type:Number},snapAlign:{default:f.snapAlign,validator(e){return["start","end","center","center-even","center-odd"].includes(e)}},transition:{default:f.transition,type:Number},breakpoints:{default:f.breakpoints,type:Object},autoplay:{default:f.autoplay,type:Number},pauseAutoplayOnHover:{default:f.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:f.mouseDrag,type:Boolean},touchDrag:{default:f.touchDrag,type:Boolean},dir:{default:f.dir,validator(e){return["rtl","ltr"].includes(e)}},i18n:{default:f.i18n,type:Object},settings:{default(){return{}},type:Object}};function ze({config:e,slidesCount:n}){const{snapAlign:t,wrapAround:r,itemsToShow:i=1}=e;if(r)return Math.max(n-1,0);let s;switch(t){case"start":s=n-i;break;case"end":s=n-1;break;case"center":case"center-odd":s=n-Math.ceil((i-.5)/2);break;case"center-even":s=n-Math.ceil(i/2);break;default:s=0;break}return Math.max(s,0)}function Ye({config:e,slidesCount:n}){const{wrapAround:t,snapAlign:r,itemsToShow:i=1}=e;let s=0;if(t||i>n)return s;switch(r){case"start":s=0;break;case"end":s=i-1;break;case"center":case"center-odd":s=Math.floor((i-1)/2);break;case"center-even":s=Math.floor((i-2)/2);break;default:s=0;break}return s}function ae({val:e,max:n,min:t}){return n<t?e:Math.min(Math.max(e,t),n)}function Ue({config:e,currentSlide:n,slidesCount:t}){const{snapAlign:r,wrapAround:i,itemsToShow:s=1}=e;let p=n;switch(r){case"center":case"center-odd":p-=(s-1)/2;break;case"center-even":p-=(s-2)/2;break;case"end":p-=s-1;break}return i?p:ae({val:p,max:t-s,min:0})}function Te(e){return e?e.reduce((n,t)=>{var r;return t.type===ke?[...n,...Te(t.children)]:((r=t.type)===null||r===void 0?void 0:r.name)==="CarouselSlide"?[...n,t]:n},[]):[]}function U({val:e,max:n,min:t=0}){return e>n?U({val:e-(n+1),max:n,min:t}):e<t?U({val:e+(n+1),max:n,min:t}):e}function qe(e,n){let t;return n?function(...r){const i=this;t||(e.apply(i,r),t=!0,setTimeout(()=>t=!1,n))}:e}function He(e,n){let t;return function(...r){t&&clearTimeout(t),t=setTimeout(()=>{e(...r),t=null},n)}}function Ae(e="",n={}){return Object.entries(n).reduce((t,[r,i])=>t.replace(`{${r}}`,String(i)),e)}var Ge=se({name:"ARIA",setup(){const e=g("config",A(Object.assign({},f))),n=g("currentSlide",u(0)),t=g("slidesCount",u(0));return()=>S("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},Ae(e.i18n.itemXofY,{currentSlide:n.value+1,slidesCount:t.value}))}}),Qe=se({name:"Carousel",props:_e,setup(e,{slots:n,emit:t,expose:r}){var i;const s=u(null),p=u([]),l=u(0),v=u(0),a=A(Object.assign({},f));let w=Object.assign({},f),h;const c=u((i=e.modelValue)!==null&&i!==void 0?i:0),y=u(0),R=u(0),T=u(0),E=u(0);let j,q;k("config",a),k("slidesCount",v),k("currentSlide",c),k("maxSlide",T),k("minSlide",E),k("slideWidth",l);function H(){h=Object.assign({},e.breakpoints),w=Object.assign(Object.assign(Object.assign({},w),e),{i18n:Object.assign(Object.assign({},w.i18n),e.i18n),breakpoints:void 0}),le(w)}function V(){if(!h||!Object.keys(h).length)return;const o=Object.keys(h).map(m=>Number(m)).sort((m,_)=>+_-+m);let b=Object.assign({},w);o.some(m=>{const _=window.matchMedia(`(min-width: ${m}px)`).matches;return _&&(b=Object.assign(Object.assign({},b),h[m])),_}),le(b)}function le(o){Object.entries(o).forEach(([b,m])=>a[b]=m)}const ue=He(()=>{V(),I()},16);function I(){if(!s.value)return;const o=s.value.getBoundingClientRect();l.value=o.width/a.itemsToShow}function G(){v.value<=0||(R.value=Math.ceil((v.value-1)/2),T.value=ze({config:a,slidesCount:v.value}),E.value=Ye({config:a,slidesCount:v.value}),a.wrapAround||(c.value=ae({val:c.value,max:T.value,min:E.value})))}je(()=>{Le(()=>I()),setTimeout(()=>I(),1e3),V(),fe(),window.addEventListener("resize",ue,{passive:!0}),t("init")}),Ee(()=>{q&&clearTimeout(q),j&&clearInterval(j),window.removeEventListener("resize",ue,{passive:!0})});let x=!1;const $={x:0,y:0},X={x:0,y:0},C=A({x:0,y:0}),z=u(!1),Q=u(!1),Ce=()=>{z.value=!0},Ne=()=>{z.value=!1};function ce(o){["INPUT","TEXTAREA","SELECT"].includes(o.target.tagName)||(x=o.type==="touchstart",x||o.preventDefault(),!(!x&&o.button!==0||N.value)&&($.x=x?o.touches[0].clientX:o.clientX,$.y=x?o.touches[0].clientY:o.clientY,document.addEventListener(x?"touchmove":"mousemove",de,!0),document.addEventListener(x?"touchend":"mouseup",ve,!0)))}const de=qe(o=>{Q.value=!0,X.x=x?o.touches[0].clientX:o.clientX,X.y=x?o.touches[0].clientY:o.clientY;const b=X.x-$.x,m=X.y-$.y;C.y=m,C.x=b},a.throttle);function ve(){const o=a.dir==="rtl"?-1:1,b=Math.sign(C.x)*.4,m=Math.round(C.x/l.value+b)*o;if(m&&!x){const _=K=>{K.stopPropagation(),window.removeEventListener("click",_,!0)};window.addEventListener("click",_,!0)}M(c.value-m),C.x=0,C.y=0,Q.value=!1,document.removeEventListener(x?"touchmove":"mousemove",de,!0),document.removeEventListener(x?"touchend":"mouseup",ve,!0)}function fe(){!a.autoplay||a.autoplay<=0||(j=setInterval(()=>{a.pauseAutoplayOnHover&&z.value||Y()},a.autoplay))}function pe(){j&&(clearInterval(j),j=null),fe()}const N=u(!1);function M(o){const b=a.wrapAround?o:ae({val:o,max:T.value,min:E.value});c.value===b||N.value||(t("slide-start",{slidingToIndex:o,currentSlideIndex:c.value,prevSlideIndex:y.value,slidesCount:v.value}),N.value=!0,y.value=c.value,c.value=b,q=setTimeout(()=>{if(a.wrapAround){const m=U({val:b,max:T.value,min:0});m!==c.value&&(c.value=m,t("loop",{currentSlideIndex:c.value,slidingToIndex:o}))}t("update:modelValue",c.value),t("slide-end",{currentSlideIndex:c.value,prevSlideIndex:y.value,slidesCount:v.value}),N.value=!1,pe()},a.transition))}function Y(){M(c.value+a.itemsToScroll)}function W(){M(c.value-a.itemsToScroll)}const me={slideTo:M,next:Y,prev:W};k("nav",me),k("isSliding",N);const ge=we(()=>Ue({config:a,currentSlide:c.value,slidesCount:v.value}));k("slidesToScroll",ge);const Me=we(()=>{const o=a.dir==="rtl"?-1:1,b=ge.value*l.value*o;return{transform:`translateX(${C.x-b}px)`,transition:`${N.value?a.transition:0}ms`,margin:a.wrapAround?`0 -${v.value*l.value}px`:"",width:"100%"}});function he(){H(),V(),G(),I(),pe()}Object.keys(_e).forEach(o=>{["modelValue"].includes(o)||ne(()=>e[o],he)}),ne(()=>e.modelValue,o=>{o!==c.value&&M(Number(o))}),ne(v,G),t("before-init"),H();const be={config:a,slidesCount:v,slideWidth:l,next:Y,prev:W,slideTo:M,currentSlide:c,maxSlide:T,minSlide:E,middleSlide:R};r({updateBreakpointsConfigs:V,updateSlidesData:G,updateSlideWidth:I,initDefaultConfigs:H,restartCarousel:he,slideTo:M,next:Y,prev:W,nav:me,data:be});const F=n.default||n.slides,J=n.addons,Se=A(be);return()=>{const o=Te(F==null?void 0:F(Se)),b=(J==null?void 0:J(Se))||[];o.forEach((Z,ee)=>Z.props.index=ee);let m=o;if(a.wrapAround){const Z=o.map((te,D)=>xe(te,{index:-o.length+D,isClone:!0,key:`clone-before-${D}`})),ee=o.map((te,D)=>xe(te,{index:o.length+D,isClone:!0,key:`clone-after-${D}`}));m=[...Z,...o,...ee]}p.value=o,v.value=Math.max(o.length,1);const _=S("ol",{class:"carousel__track",style:Me.value,onMousedownCapture:a.mouseDrag?ce:null,onTouchstartPassiveCapture:a.touchDrag?ce:null},m),K=S("div",{class:"carousel__viewport"},_);return S("section",{ref:s,class:{carousel:!0,"is-sliding":N.value,"is-dragging":Q.value,"is-hover":z.value,"carousel--rtl":a.dir==="rtl"},dir:a.dir,"aria-label":a.i18n.ariaGallery,tabindex:"0",onMouseenter:Ce,onMouseleave:Ne},[K,b,S(Ge)])}}}),re;(function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"})(re||(re={}));const We={arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"};function Fe(e){return e in re}const ie=e=>{const n=g("config",A(Object.assign({},f))),t=String(e.name),r=`icon${t.charAt(0).toUpperCase()+t.slice(1)}`;if(!t||typeof t!="string"||!Fe(t))return;const i=We[t],s=S("path",{d:i}),p=n.i18n[r]||e.title||t,l=S("title",p);return S("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":p},[l,s])};ie.props={name:String,title:String};const Je=(e,{slots:n,attrs:t})=>{const{next:r,prev:i}=n||{},s=g("config",A(Object.assign({},f))),p=g("maxSlide",u(1)),l=g("minSlide",u(1)),v=g("currentSlide",u(1)),a=g("nav",{}),{dir:w,wrapAround:h,i18n:c}=s,y=w==="rtl",R=S("button",{type:"button",class:["carousel__prev",!h&&v.value<=l.value&&"carousel__prev--disabled",t==null?void 0:t.class],"aria-label":c.ariaPreviousSlide,onClick:a.prev},(i==null?void 0:i())||S(ie,{name:y?"arrowRight":"arrowLeft"})),T=S("button",{type:"button",class:["carousel__next",!h&&v.value>=p.value&&"carousel__next--disabled",t==null?void 0:t.class],"aria-label":c.ariaNextSlide,onClick:a.next},(r==null?void 0:r())||S(ie,{name:y?"arrowLeft":"arrowRight"}));return[R,T]},Ke=()=>{const e=g("config",A(Object.assign({},f))),n=g("maxSlide",u(1)),t=g("minSlide",u(1)),r=g("currentSlide",u(1)),i=g("nav",{}),s=l=>U({val:r.value,max:n.value,min:0})===l,p=[];for(let l=t.value;l<n.value+1;l++){const v=S("button",{type:"button",class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":s(l)},"aria-label":Ae(e.i18n.ariaNavigateToSlide,{slideNumber:l+1}),onClick:()=>i.slideTo(l)}),a=S("li",{class:"carousel__pagination-item",key:l},v);p.push(a)}return S("ol",{class:"carousel__pagination"},p)};var Ze=se({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:n}){const t=g("config",A(Object.assign({},f))),r=g("currentSlide",u(0)),i=g("slidesToScroll",u(0)),s=g("isSliding",u(!1)),p=()=>e.index===r.value,l=()=>e.index===r.value-1,v=()=>e.index===r.value+1,a=()=>{const w=Math.floor(i.value),h=Math.ceil(i.value+t.itemsToShow-1);return e.index>=w&&e.index<=h};return()=>{var w;return S("li",{style:{width:`${100/t.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":a(),"carousel__slide--active":p(),"carousel__slide--prev":l(),"carousel__slide--next":v(),"carousel__slide--sliding":s.value},"aria-hidden":!a()},(w=n.default)===null||w===void 0?void 0:w.call(n))}}});const et={class:"pt-12"},tt={class:"grid grid-cols-1 sm:grid-cols-2 p-8 md:p-12 border max-w-5xl gap-10 mx-auto shadow"},nt=["src","alt"],ot={class:"grid grid-cols-1 gap-4"},at={class:"grid-cols-1 gap-2"},rt={class:"text-3xl font-bold"},it={class:"text-gray-600 text-sm"},st={class:""},lt={class:"font-bold text-xl"},ut={class:"grid gap-2"},ct={class:"flex justify-between"},dt={class:"px-4 py-2"},vt={class:"text-gray-600 text-sm"},ft={class:"pt-12"},pt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},mt=d("h2",{class:"text-2xl font-bold"},"Related Products",-1),_t={__name:"Show",props:{product:{type:Object,required:!0},relatedProducts:{type:Object,required:!0,attributes:{id:Number,name:String,price:Number,image:String}}},setup(e){const{product:n,relatedProducts:t}=e,r=Ie.useToast(),i=u(1),s=De(),p={640:{itemsToShow:1},768:{itemsToShow:2},1024:{itemsToShow:3}},l=$e(),v=async()=>{if(!s.props.auth.user){r.error("You need to login first");return}try{(await l.addToCart(n.id,i.value)).status===200&&(r.success("Product added to cart"),await l.syncCart())}catch(h){h.response.status===422?r.error(h.response.data.errors.quantity[0]):h.response.status===403?r.error(h.response.data.message):r.error("Something went wrong")}},a=()=>{i.value<n.stock?i.value++:r.error("No more stock available")},w=()=>{i.value>1?i.value--:r.error("Quantity cannot be less than 1")};return(h,c)=>(oe(),ye(Oe,null,{default:P(()=>[B(L(Pe),null,{default:P(()=>[d("title",null,O(e.product.name),1)]),_:1}),d("div",et,[d("div",tt,[d("img",{src:L(Xe)(e.product.image),alt:e.product.name,class:""},null,8,nt),d("div",ot,[d("div",at,[d("h1",rt,O(e.product.name),1),d("p",it,O(e.product.brand.name),1)]),d("p",st,O(e.product.description),1),d("p",lt,"$ "+O(e.product.price),1),d("div",ut,[d("div",ct,[d("div",null,[d("button",{class:"bg-gray-200 text-gray-600 rounded-md px-4 py-2",onClick:w}," - "),d("span",dt,O(i.value),1),d("button",{class:"bg-gray-200 text-gray-600 rounded-md px-4 py-2",onClick:a}," + ")]),d("div",null,[d("p",vt,"Stock: "+O(e.product.stock),1)])]),d("button",{class:"bg-blue-500 text-white rounded-md px-4 py-2",onClick:v},"Add to cart ")])])])]),d("div",ft,[d("div",pt,[mt,B(L(Qe),{breakpoints:p,"wrap-around":!0,class:"mt-8"},{addons:P(()=>[B(L(Je)),B(L(Ke))]),default:P(()=>[(oe(!0),Be(ke,null,Re(e.relatedProducts,y=>(oe(),ye(L(Ze),{key:y.id},{default:P(()=>[B(Ve,{product:y,class:"h-full"},null,8,["product"])]),_:2},1024))),128))]),_:1})])])]),_:1}))}};export{_t as default};
