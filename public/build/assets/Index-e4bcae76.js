import{K as b,d as g,r as k,a as n,c as i,e as t,F as f,f as P,t as r,b as s,w as d,p as y,u as c,m as v,n as x,O as $,i as C,Z as S}from"./app-af608028.js";import{M as A}from"./MainLayout-4ed0b131.js";import{i as E}from"./laravel-vue-pagination.es-c1975498.js";import N from"./ProductsExport-9c88fe1c.js";import B from"./ProductsImport-4e88d02c.js";import"./ApplicationLogo-4d97a218.js";import"./Dropdown-6c65a629.js";import"./cart-fd50cb26.js";import"./Modal-49f06bdc.js";import"./InputError-e63fa01d.js";const D={class:"p-4 sm:p-6 shadow sm:rounded-lg"},T={class:"overflow-auto"},V={class:"table-auto mx-auto w-full border"},I=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 border"},"SKU"),t("th",{class:"px-4 py-2 border"},"Name"),t("th",{class:"px-4 py-2 border"},"Price"),t("th",{class:"px-4 py-2 border"},"Stock"),t("th",{class:"px-4 py-2 border"},"Category"),t("th",{class:"px-4 py-2 border"},"Brand"),t("th",{class:"px-4 py-2 border"},"Status"),t("th",{class:"px-4 py-2 border"},"Actions")])],-1),L={class:"border px-4 py-2 text-center"},O={class:"border px-4 py-2"},j={class:"border px-4 py-2 text-center"},F={class:"border px-4 py-2 text-center"},K={class:"border px-4 py-2"},M={class:"border px-4 py-2"},q={class:"border px-4 py-2 text-center"},U={class:"border px-4 py-2"},Y={class:"grid grid-rows-2 xl:grid-cols-2 xl:grid-rows-1 gap-1"},Z=["onClick"],z=["onClick"],G={class:"flex justify-center mt-3"},H={__name:"ProductsTable",props:{products:{type:Object,required:!0}},setup(h){const{products:l}=h;b().props.auth;const o=g.useToast(),u=k(l),w=async(a=1)=>{$.visit(route("admin.products.index",{page:a}),{replace:!0,preserveScroll:!0})},m=async a=>{o.clear();try{if((await C.patch(route("api.admin.products.status.update",a))).status===200){const e=u.value.data.find(_=>_.id===a);e&&(e.status=e.status==="Active"?"Inactive":"Active"),o.success("Product status has been updated successfully")}else o.error("Something went wrong, please try again later")}catch(p){p.response.status===403?o.error("You don't have permission to perform this action"):o.error("Something went wrong, please try again later")}};return(a,p)=>(n(),i("div",D,[t("div",T,[t("table",V,[I,t("tbody",null,[(n(!0),i(f,null,P(u.value.data,e=>(n(),i("tr",{key:e.id},[t("td",L,r(e.sku),1),t("td",O,r(e.name),1),t("td",j,r(e.price)+" $",1),t("td",F,r(e.stock),1),t("td",K,r(e.category.name),1),t("td",M,r(e.brand.name),1),t("td",q,r(e.status),1),t("td",U,[t("div",Y,[s(c(v),{href:a.route("admin.products.edit",e.id),title:"Edit Product",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-2 rounded text-center"},{default:d(()=>[y(" Edit ")]),_:2},1032,["href"]),e.status==="Active"?(n(),i("button",{key:0,onClick:_=>m(e.id),title:"Disable user",class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-2 rounded text-center"}," Disable ",8,Z)):x("",!0),e.status==="Inactive"?(n(),i("button",{key:1,onClick:_=>m(e.id),title:"Enable user",class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-2 rounded text-center"}," Enable ",8,z)):x("",!0)])])]))),128))])])]),t("div",G,[s(c(E),{data:u.value,onPaginationChangePage:w,limit:1,keepLength:!0},null,8,["data"])])]))}},J=t("title",null,"Product Administration",-1),Q=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Product Administration",-1),R={class:"max-w-[100rem] mx-auto sm:px-6 lg:px-8 space-y-6 py-12"},W={class:"flex flex-col gap-5 sm:flex-row px-5"},dt={__name:"Index",setup(h){g.useToast();const{products:l}=b().props;return(o,u)=>(n(),i(f,null,[s(c(S),null,{default:d(()=>[J]),_:1}),s(A,null,{header:d(()=>[Q]),default:d(()=>[t("div",R,[t("div",W,[s(c(v),{href:o.route("admin.products.create"),class:"flex items-center px-4 py-2 bg-gray-800 rounded-md text-white hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:d(()=>[y(" Create Product ")]),_:1},8,["href"]),s(B),s(N,{products:c(l)},null,8,["products"])]),s(H,{products:c(l)},null,8,["products"])])]),_:1})],64))}};export{dt as default};
