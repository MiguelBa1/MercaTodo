import{d as f,r as v,a as r,c as n,e as t,F as b,f as w,t as s,b as c,w as l,p as k,u as p,m as $,n as x,O as C,i as A,K as D,Z as E}from"./app-af608028.js";import{M as S}from"./MainLayout-4ed0b131.js";import{i as U}from"./laravel-vue-pagination.es-c1975498.js";import"./ApplicationLogo-4d97a218.js";import"./Dropdown-6c65a629.js";import"./cart-fd50cb26.js";const N={class:"p-4 sm:p-6 shadow sm:rounded-lg"},I={class:"overflow-auto"},T={class:"table-auto mx-auto w-full border"},V=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 border"},"ID"),t("th",{class:"px-4 py-2 border"},"Name"),t("th",{class:"px-4 py-2 border"},"Email"),t("th",{class:"px-4 py-2 border"},"Document"),t("th",{class:"px-4 py-2 border"},"Document Type"),t("th",{class:"px-4 py-2 border"},"City"),t("th",{class:"px-4 py-2 border"},"Address"),t("th",{class:"px-4 py-2 border"},"Status"),t("th",{class:"px-4 py-2 border"},"Roles"),t("th",{class:"px-4 py-2 border"},"Actions")])],-1),B={class:"border px-4 py-2 text-center"},L={class:"border px-4 py-2"},O={class:"border px-4 py-2"},j={class:"border px-4 py-2"},F={class:"border px-4 py-2"},M={class:"border px-4 py-2"},P={class:"border px-4 py-2"},q={class:"border px-4 py-2 text-center"},K={class:"border px-4 py-2 text-center"},R={class:"border px-4 py-2"},Y={class:"grid grid-rows-2 gap-1"},Z=["onClick"],z=["onClick"],G={class:"flex justify-center mt-3"},H={__name:"UsersTable",props:{users:{type:Object,required:!0}},setup(_){const{users:u}=_,a=f.useToast(),i=v(u),y=async(o=1)=>{C.visit(route("admin.users.index",{page:o}),{replace:!0,preserveScroll:!0})},h=async(o,m)=>{a.clear();try{if((await A.patch(route("api.admin.users.status.update",o))).status===200){const d=i.value.data.find(g=>g.id===o);d&&(d.status=d.status==="Active"?"Inactive":"Active"),a.success(`${m} status has been updated successfully`)}else a.error("Something went wrong, please try again later")}catch(e){e.response.status===403?a.error("You don't have permission to perform this action"):a.error("Something went wrong, please try again later")}};return(o,m)=>(r(),n("div",N,[t("div",I,[t("table",T,[V,t("tbody",null,[(r(!0),n(b,null,w(i.value.data,e=>(r(),n("tr",{key:e.id},[t("td",B,s(e.id),1),t("td",L,s(e.name),1),t("td",O,s(e.email),1),t("td",j,s(e.document),1),t("td",F,s(e.document_type),1),t("td",M,s(e.city.name),1),t("td",P,s(e.address),1),t("td",q,s(e.status),1),t("td",K,s(e.roles[0].name),1),t("td",R,[t("div",Y,[c(p($),{href:o.route("admin.user.edit",e.id),title:"Edit user",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-2 rounded text-center"},{default:l(()=>[k(" Edit ")]),_:2},1032,["href"]),e.status==="Active"?(r(),n("button",{key:0,onClick:d=>h(e.id,e.name),title:"Disable user",class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-2 rounded text-center"}," Disable ",8,Z)):x("",!0),e.status==="Inactive"?(r(),n("button",{key:1,onClick:d=>h(e.id,e.name),title:"Enable user",class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-2 rounded text-center"}," Enable ",8,z)):x("",!0)])])]))),128))])])]),t("div",G,[c(p(U),{data:i.value,onPaginationChangePage:y,limit:1,keepLength:!0},null,8,["data"])])]))}},J=t("title",null,"User Administration",-1),Q=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"User Administration",-1),W={class:"max-w-[100rem] mx-auto sm:px-6 lg:px-8 space-y-6 py-12"},rt={__name:"Index",setup(_){const{users:u}=D().props;return(a,i)=>(r(),n(b,null,[c(p(E),null,{default:l(()=>[J]),_:1}),c(S,null,{header:l(()=>[Q]),default:l(()=>[t("div",W,[c(H,{users:p(u)},null,8,["users"])])]),_:1})],64))}};export{rt as default};
