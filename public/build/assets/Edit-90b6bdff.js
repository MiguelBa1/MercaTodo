import{M as B}from"./MainLayout-4ed0b131.js";import{a as p,c as f,l as T,r as h,T as S,b as e,w as _,p as v,e as t,u as s,R as A,y as F,M,n as D,s as N,g as q,d as j,K,h as k,j as U,F as $,f as P,t as C,m as O,H as L,Z as z}from"./app-af608028.js";import{_ as E}from"./DangerButton-f20f85e0.js";import{_ as m}from"./InputError-e63fa01d.js";import{_ as d}from"./InputLabel-47059b8e.js";import{_ as H}from"./Modal-49f06bdc.js";import{_ as c}from"./TextInput-836244fa.js";import{_ as I}from"./PrimaryButton-76370c3c.js";import"./ApplicationLogo-4d97a218.js";import"./Dropdown-6c65a629.js";import"./cart-fd50cb26.js";const R=["type"],Y={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(g){return(i,u)=>(p(),f("button",{type:g.type,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},[T(i.$slots,"default")],8,R))}},Z={class:"space-y-6"},G=t("header",null,[t("h2",{class:"text-lg font-medium text-gray-900"},"Delete Account"),t("p",{class:"mt-1 text-sm text-gray-600"}," Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain. ")],-1),J={class:"p-6"},Q=t("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete your account? ",-1),W=t("p",{class:"mt-1 text-sm text-gray-600"}," Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account. ",-1),X={class:"mt-6"},ee={class:"mt-6 flex justify-end"},se={__name:"DeleteUserForm",setup(g){const i=h(!1),u=h(null),o=S({password:""}),x=()=>{i.value=!0,M(()=>u.value.focus())},w=()=>{o.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>n(),onError:()=>u.value.focus(),onFinish:()=>o.reset()})},n=()=>{i.value=!1,o.reset()};return(y,a)=>(p(),f("section",Z,[G,e(E,{onClick:x},{default:_(()=>[v("Delete Account")]),_:1}),e(H,{show:i.value,onClose:n},{default:_(()=>[t("div",J,[Q,W,t("div",X,[e(d,{for:"password",value:"Password",class:"sr-only"}),e(c,{id:"password",ref_key:"passwordInput",ref:u,modelValue:s(o).password,"onUpdate:modelValue":a[0]||(a[0]=V=>s(o).password=V),type:"password",class:"mt-1 block w-3/4",placeholder:"Password",onKeyup:A(w,["enter"])},null,8,["modelValue","onKeyup"]),e(m,{message:s(o).errors.password,class:"mt-2"},null,8,["message"])]),t("div",ee,[e(Y,{onClick:n},{default:_(()=>[v(" Cancel ")]),_:1}),e(E,{class:F(["ml-3",{"opacity-25":s(o).processing}]),disabled:s(o).processing,onClick:w},{default:_(()=>[v(" Delete Account ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]))}},te=t("header",null,[t("h2",{class:"text-lg font-medium text-gray-900"},"Update Password"),t("p",{class:"mt-1 text-sm text-gray-600"}," Ensure your account is using a long, random password to stay secure. ")],-1),oe=["onSubmit"],ae={class:"flex items-center gap-4"},re={key:0,class:"text-sm text-gray-600"},le={__name:"UpdatePasswordForm",setup(g){const i=h(null),u=h(null),o=S({current_password:"",password:"",password_confirmation:""}),x=()=>{o.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>o.reset(),onError:()=>{o.errors.password&&(o.reset("password","password_confirmation"),i.value.focus()),o.errors.current_password&&(o.reset("current_password"),u.value.focus())}})};return(w,n)=>(p(),f("section",null,[te,t("form",{onSubmit:q(x,["prevent"]),class:"mt-6 space-y-6"},[t("div",null,[e(d,{for:"current_password",value:"Current Password"}),e(c,{id:"current_password",ref_key:"currentPasswordInput",ref:u,modelValue:s(o).current_password,"onUpdate:modelValue":n[0]||(n[0]=y=>s(o).current_password=y),type:"password",class:"mt-1 block w-full",autocomplete:"current-password"},null,8,["modelValue"]),e(m,{message:s(o).errors.current_password,class:"mt-2"},null,8,["message"])]),t("div",null,[e(d,{for:"password",value:"New Password"}),e(c,{id:"password",ref_key:"passwordInput",ref:i,modelValue:s(o).password,"onUpdate:modelValue":n[1]||(n[1]=y=>s(o).password=y),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),e(m,{message:s(o).errors.password,class:"mt-2"},null,8,["message"])]),t("div",null,[e(d,{for:"password_confirmation",value:"Confirm Password"}),e(c,{id:"password_confirmation",modelValue:s(o).password_confirmation,"onUpdate:modelValue":n[2]||(n[2]=y=>s(o).password_confirmation=y),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),e(m,{message:s(o).errors.password_confirmation,class:"mt-2"},null,8,["message"])]),t("div",ae,[e(I,{disabled:s(o).processing},{default:_(()=>[v("Save")]),_:1},8,["disabled"]),e(N,{"enter-from-class":"opacity-0","leave-to-class":"opacity-0",class:"transition ease-in-out"},{default:_(()=>[s(o).recentlySuccessful?(p(),f("p",re,"Saved.")):D("",!0)]),_:1})])],40,oe)]))}},ne=t("header",null,[t("h2",{class:"text-lg font-medium text-gray-900"},"Profile Information"),t("p",{class:"mt-1 text-sm text-gray-600"}," Update your account's profile information and email address. ")],-1),de=["onSubmit"],ie={class:"sm:grid sm:grid-cols-2 sm:gap-3"},ue={class:"mt-4 sm:mt-0"},me={class:"mt-4 sm:mt-0"},ce={class:"mt-4 sm:mt-0"},pe={class:"mt-4 sm:mt-0"},fe=["value"],_e={class:"mt-4 sm:mt-0"},ye=["value"],ge={class:"mt-4 sm:mt-0"},we={class:"mt-4 sm:mt-0"},ve={class:"mt-4 sm:mt-0"},he={class:"mt-4 sm:mt-0"},xe={key:0},be={class:"text-sm mt-2 text-gray-800"},Ve={class:"mt-2 font-medium text-sm text-green-600"},ke={class:"flex items-center gap-4"},$e={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:Boolean,status:String,departments:{type:Object}},setup(g){const i=g,u=j.useToast(),{user:o,departments:x}=K().props,w=h(o.department_id),n=h({}),y=async()=>{const b=await fetch(route("api.cities.index",w.value));n.value=await b.json()};y();const a=S({name:o.name,surname:o.surname,email:o.email,department_id:o.department_id,city_id:o.city_id,phone:o.phone.toString(),address:o.address,document:o.document.toString(),document_type:o.document_type}),V=()=>{u.info("Updating profile information..."),a.clearErrors(),a.patch(route("profile.update"),{onSuccess:()=>{u.success("Profile information updated successfully.")},onError:b=>{a.setError(b.response.data.errors),u.error("There was an error updating your profile information.")}})};return(b,l)=>(p(),f("section",null,[ne,t("form",{onSubmit:q(V,["prevent"]),class:"mt-6 space-y-6"},[t("div",ie,[t("div",ue,[e(d,{for:"name",value:"Name"}),e(c,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(a).name,"onUpdate:modelValue":l[0]||(l[0]=r=>s(a).name=r),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),e(m,{class:"mt-2",message:s(a).errors.name},null,8,["message"])]),t("div",me,[e(d,{for:"surname",value:"Surname"}),e(c,{id:"surname",type:"text",class:"mt-1 block w-full",modelValue:s(a).surname,"onUpdate:modelValue":l[1]||(l[1]=r=>s(a).surname=r),required:"",autocomplete:"surname"},null,8,["modelValue"]),e(m,{class:"mt-2",message:s(a).errors.surname},null,8,["message"])]),t("div",ce,[e(d,{for:"email",value:"Email"}),e(c,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s(a).email,"onUpdate:modelValue":l[2]||(l[2]=r=>s(a).email=r),required:"",autocomplete:"username"},null,8,["modelValue"]),e(m,{class:"mt-2",message:s(a).errors.email},null,8,["message"])]),t("div",pe,[e(d,{for:"departments",value:"Department"}),k(t("select",{id:"departments",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":l[3]||(l[3]=r=>w.value=r),required:"",autocomplete:"department_id",onChange:y},[(p(!0),f($,null,P(s(x),r=>(p(),f("option",{value:r.id,key:r.id},C(r.name),9,fe))),128))],544),[[U,w.value]])]),t("div",_e,[e(d,{for:"cities",value:"City"}),k(t("select",{id:"cities",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":l[4]||(l[4]=r=>s(a).city_id=r),required:"",autocomplete:"city_id"},[(p(!0),f($,null,P(n.value,r=>(p(),f("option",{value:r.id,key:r.id},C(r.name),9,ye))),128))],512),[[U,s(a).city_id]]),e(m,{class:"mt-2",message:s(a).errors.city_id},null,8,["message"])]),t("div",ge,[e(d,{for:"phone",value:"Phone"}),e(c,{id:"phone",type:"number",class:"mt-1 block w-full",modelValue:s(a).phone,"onUpdate:modelValue":l[5]||(l[5]=r=>s(a).phone=r),required:"",autocomplete:"phone",oninput:"this.value = this.value.replace(/[^0-9]/g, '')"},null,8,["modelValue"]),e(m,{class:"mt-2",message:s(a).errors.phone},null,8,["message"])]),t("div",we,[e(d,{for:"address",value:"Address"}),e(c,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:s(a).address,"onUpdate:modelValue":l[6]||(l[6]=r=>s(a).address=r),required:"",autocomplete:"address"},null,8,["modelValue"]),e(m,{class:"mt-2",message:s(a).errors.address},null,8,["message"])]),t("div",ve,[e(d,{for:"document",value:"Document"}),e(c,{id:"document",type:"text",class:"mt-1 block w-full bg-gray-100 cursor-not-allowed",modelValue:s(a).document,"onUpdate:modelValue":l[7]||(l[7]=r=>s(a).document=r),required:"",autocomplete:"username",disabled:!0},null,8,["modelValue"]),e(m,{class:"mt-2",message:s(a).errors.document},null,8,["message"])]),t("div",he,[e(d,{for:"document_type",value:"Document Type"}),e(c,{id:"document_type",type:"text",class:"mt-1 block w-full bg-gray-100 cursor-not-allowed",modelValue:s(a).document_type,"onUpdate:modelValue":l[8]||(l[8]=r=>s(a).document_type=r),required:"",autocomplete:"username",disabled:!0},null,8,["modelValue"]),e(m,{class:"mt-2",message:s(a).errors.document_type},null,8,["message"])])]),i.mustVerifyEmail&&s(o).email_verified_at===null?(p(),f("div",xe,[t("p",be,[v(" Your email address is unverified. "),e(s(O),{href:b.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:_(()=>[v(" Click here to re-send the verification email. ")]),_:1},8,["href"])]),k(t("div",Ve," A new verification link has been sent to your email address. ",512),[[L,i.status==="verification-link-sent"]])])):D("",!0),t("div",ke,[e(I,{disabled:s(a).processing},{default:_(()=>[v("Save")]),_:1},8,["disabled"])])],40,de)]))}},Se=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Profile",-1),Ue={class:"py-12"},Pe={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},Ce={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},Ee={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},De={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},Le={__name:"Edit",props:{mustVerifyEmail:Boolean,status:String},setup(g){return(i,u)=>(p(),f($,null,[e(s(z),{title:"Profile"}),e(B,null,{header:_(()=>[Se]),default:_(()=>[t("div",Ue,[t("div",Pe,[t("div",Ce,[e($e,{"must-verify-email":g.mustVerifyEmail,status:g.status},null,8,["must-verify-email","status"])]),t("div",Ee,[e(le,{class:"max-w-xl"})]),t("div",De,[e(se,{class:"max-w-xl"})])])])]),_:1})],64))}};export{Le as default};
