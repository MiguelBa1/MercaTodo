import{d as S,r as c,o as j,a as l,c as i,b as r,e,F as p,f as T,t as v,w as g,g as y,h,v as f,u as C,i as x,Z as L,j as V}from"./app-af608028.js";import{M}from"./MainLayout-4ed0b131.js";import{i as N}from"./laravel-vue-pagination.es-c1975498.js";import{L as D}from"./LoadingSpinner-3f7cefea.js";import{_ as w}from"./Modal-49f06bdc.js";import"./ApplicationLogo-4d97a218.js";import"./Dropdown-6c65a629.js";import"./cart-fd50cb26.js";const I={key:0},U={key:1,class:"p-4 sm:p-6 shadow sm:rounded-lg"},A={class:"overflow-auto"},O={class:"table-auto mx-auto w-full border"},P=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 border"},"ID"),e("th",{class:"px-4 py-2 border"},"Name"),e("th",{class:"px-4 py-2 border"},"Actions")])],-1),F={class:"border px-4 py-2 text-center"},Z={class:"border px-4 py-2"},q={class:"border px-4 py-2"},z={class:"flex justify-center"},G=["onClick"],H={class:"p-6"},J=e("h2",{class:"text-lg font-medium text-gray-900"}," Edit Brand ",-1),K=["onSubmit"],Q={class:"mt-4"},R=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," ID ",-1),W={class:"mt-1"},X=["value"],Y={class:"mt-4"},ee=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Name ",-1),te={class:"mt-1"},se=e("div",{class:"mt-4"},[e("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"}," Edit Brand ")],-1),oe={class:"p-6"},ae=e("h2",{class:"text-lg font-medium text-gray-900"}," Create Brand ",-1),ne=["onSubmit"],de={class:"mt-4"},le=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Name ",-1),ie={class:"mt-1"},re=e("div",{class:"mt-4"},[e("button",{type:"submit",class:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md"}," Create Brand ")],-1),ue={class:"flex justify-center mt-3"},ce={class:"flex justify-center mt-3"},me={__name:"BrandsTable",setup(B){const o=S.useToast(),_=c({}),m=c(1),u=c(!0),a=c({}),d=c({}),b=async(n=1)=>{const t=await fetch(route("api.admin.brands.index",{page:n}));_.value=await t.json(),m.value=n},$=async()=>{o.clear();try{await x.post(route("api.admin.brands.store"),d.value),await b(m.value),o.success("Brand has been created successfully")}catch(n){n.value.response.status===422?o.error("This name is already taken"):o.error("Something went wrong, please try again later")}},k=async()=>{o.clear();try{await x.patch(route("api.admin.brands.update",{brand:a.value.id}),a.value),await b(m.value),o.success("Brand has been updated successfully")}catch(n){n.response.status===422?o.error("This name is already taken"):o.error("Something went wrong, please try again later")}};return j(async()=>{await b(),u.value=!1}),(n,t)=>(l(),i(p,null,[u.value?(l(),i("div",I,[r(D)])):(l(),i("div",U,[e("div",A,[e("table",O,[P,e("tbody",null,[(l(!0),i(p,null,T(_.value.data,s=>(l(),i("tr",{key:s.id},[e("td",F,v(s.id),1),e("td",Z,v(s.name),1),e("td",q,[e("div",z,[e("button",{onClick:E=>a.value={...s},class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"}," Edit ",8,G)])])]))),128))])]),r(w,{show:Object.keys(a.value).length>0,onClose:t[1]||(t[1]=s=>a.value={})},{default:g(()=>[e("div",H,[J,e("form",{onSubmit:y(k,["prevent"])},[e("div",Q,[R,e("div",W,[e("input",{type:"text",name:"brand-id",id:"brand-id",value:a.value.id,disabled:"",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 bg-gray-100 cursor-not-allowed rounded-md"},null,8,X)])]),e("div",Y,[ee,e("div",te,[h(e("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name=s),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[f,a.value.name]])])]),se],40,K)])]),_:1},8,["show"]),r(w,{show:Object.keys(d.value).length>0,onClose:t[3]||(t[3]=s=>d.value={})},{default:g(()=>[e("div",oe,[ae,e("form",{onSubmit:y($,["prevent"])},[e("div",de,[le,e("div",ie,[h(e("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":t[2]||(t[2]=s=>d.value.name=s),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[f,d.value.name]])])]),re],40,ne)])]),_:1},8,["show"])]),e("div",ue,[r(C(N),{data:_.value,onPaginationChangePage:b,limit:1,keepLength:!0},null,8,["data"])])])),e("div",ce,[e("button",{onClick:t[4]||(t[4]=s=>d.value.name=""),class:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md"}," Create Brand ")])],64))}},_e={key:0},be={key:1,class:"p-4 sm:p-6 shadow sm:rounded-lg"},ge={class:"overflow-auto"},he={class:"table-auto mx-auto w-full border"},pe=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 border"},"ID"),e("th",{class:"px-4 py-2 border"},"Name"),e("th",{class:"px-4 py-2 border"},"Actions")])],-1),ve={class:"border px-4 py-2 text-center"},ye={class:"border px-4 py-2"},fe={class:"border px-4 py-2"},xe={class:"flex justify-center"},we=["onClick"],$e={class:"p-6"},ke=e("h2",{class:"text-lg font-medium text-gray-900"}," Edit Category ",-1),Ce=["onSubmit"],Be={class:"mt-4"},Se=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," ID ",-1),je={class:"mt-1"},Te=["value"],Ne={class:"mt-4"},De=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Name ",-1),Ee={class:"mt-1"},Le=e("div",{class:"mt-4"},[e("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"}," Edit Category ")],-1),Ve={class:"p-6"},Me=e("h2",{class:"text-lg font-medium text-gray-900"}," Create Category ",-1),Ie=["onSubmit"],Ue={class:"mt-4"},Ae=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Name ",-1),Oe={class:"mt-1"},Pe=e("div",{class:"mt-4"},[e("button",{type:"submit",class:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md"}," Create Category ")],-1),Fe={class:"flex justify-center mt-3"},Ze={class:"flex justify-center mt-3"},qe={__name:"CategoriesTable",setup(B){const o=S.useToast(),_=c({}),m=c(1),u=c(!0),a=c({}),d=c({}),b=async(n=1)=>{const t=await fetch(route("api.admin.categories.index",{page:n}));_.value=await t.json(),m.value=n,u.value=!1},$=async()=>{o.clear();try{await x.post(route("api.admin.categories.store"),d.value),await b(m.value),o.success("Category has been created successfully")}catch(n){n.value.response.status===422?o.error("This name is already taken"):o.error("Something went wrong, please try again later")}},k=async()=>{o.clear();try{await x.patch(route("api.admin.categories.update",{category:a.value.id}),a.value),await b(m.value),o.success("Category has been updated successfully")}catch(n){n.response.status===422?o.error("This name is already taken"):o.error("Something went wrong, please try again later")}};return j(async()=>{await b(),u.value=!1}),(n,t)=>u.value?(l(),i("div",_e,[r(D)])):(l(),i("div",be,[e("div",ge,[e("table",he,[pe,e("tbody",null,[(l(!0),i(p,null,T(_.value.data,s=>(l(),i("tr",{key:s.id},[e("td",ve,v(s.id),1),e("td",ye,v(s.name),1),e("td",fe,[e("div",xe,[e("button",{onClick:E=>a.value={...s},class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md"}," Edit ",8,we)])])]))),128))])]),r(w,{show:Object.keys(a.value).length>0,onClose:t[1]||(t[1]=s=>a.value={})},{default:g(()=>[e("div",$e,[ke,e("form",{onSubmit:y(k,["prevent"])},[e("div",Be,[Se,e("div",je,[e("input",{type:"text",name:"category-id",id:"category-id",value:a.value.id,disabled:"",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 bg-gray-100 cursor-not-allowed rounded-md"},null,8,Te)])]),e("div",Ne,[De,e("div",Ee,[h(e("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name=s),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[f,a.value.name]])])]),Le],40,Ce)])]),_:1},8,["show"]),r(w,{show:Object.keys(d.value).length>0,onClose:t[3]||(t[3]=s=>d.value={})},{default:g(()=>[e("div",Ve,[Me,e("form",{onSubmit:y($,["prevent"])},[e("div",Ue,[Ae,e("div",Oe,[h(e("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":t[2]||(t[2]=s=>d.value.name=s),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[f,d.value.name]])])]),Pe],40,Ie)])]),_:1},8,["show"])]),e("div",Fe,[r(C(N),{data:_.value,onPaginationChangePage:b,limit:1,keepLength:!0},null,8,["data"])]),e("div",Ze,[e("button",{onClick:t[4]||(t[4]=s=>d.value.name=""),class:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md"}," Create Category ")])]))}},ze=e("title",null,"Auxiliar tables",-1),Ge=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Auxiliary tables",-1),He={class:"max-w-3xl mx-auto sm:px-6 lg:px-8 space-y-4 py-12"},Je=e("h2",{class:"text-xl font-semibold"},"Select table",-1),Ke=e("option",{value:"brands"},"Brands",-1),Qe=e("option",{value:"categories"},"Categories",-1),Re=[Ke,Qe],We={key:0},Xe={key:1},lt={__name:"Index",setup(B){const o=c("brands"),_=m=>{o.value=m};return(m,u)=>(l(),i(p,null,[r(C(L),null,{default:g(()=>[ze]),_:1}),r(M,null,{header:g(()=>[Ge]),default:g(()=>[e("div",He,[Je,h(e("select",{"onUpdate:modelValue":u[0]||(u[0]=a=>o.value=a),onChange:u[1]||(u[1]=a=>_(a.target.value)),class:"block w-full py-1 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},Re,544),[[V,o.value]]),o.value==="brands"?(l(),i("div",We,[r(me)])):(l(),i("div",Xe,[r(qe)]))])]),_:1})],64))}};export{lt as default};
