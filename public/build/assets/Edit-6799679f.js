import{M as E}from"./MainLayout-4ed0b131.js";import{d as V,r as S,T,a as u,c as m,e as t,b as s,u as e,h as v,v as j,n as q,j as k,F as b,f as w,t as h,w as _,p as $,g as C,i as D,K as F,Z as L}from"./app-af608028.js";import{_ as y}from"./TextInput-836244fa.js";import{_ as n}from"./InputLabel-47059b8e.js";import{_ as c}from"./InputError-e63fa01d.js";import{g as M}from"./getProductImage-92473f05.js";import{_ as N}from"./PrimaryButton-76370c3c.js";import{_ as B}from"./DangerButton-f20f85e0.js";import"./ApplicationLogo-4d97a218.js";import"./Dropdown-6c65a629.js";import"./cart-fd50cb26.js";const I=t("header",null,[t("h2",{class:"text-lg font-medium text-gray-900"},"Product Information"),t("p",{class:"mt-1 text-sm text-gray-600"}," Update product information. ")],-1),O=["onSubmit"],A={class:"sm:grid sm:grid-cols-2 gap-3"},K={class:"mt-4 sm:mt-0"},R={class:"flex flex-col mb-6"},z={class:"flex flex-col mb-6"},Y={class:"flex flex-col mb-6"},Z={class:"grid place-items-center md:grid-cols-2 mb-6"},G={class:"flex flex-col justify-center"},H=["src"],J={class:"flex flex-col mb-6"},Q={class:"flex flex-col mb-6"},W=["value"],X={class:"flex flex-col mb-6"},ee=["value"],te={__name:"UpdateProductInformationForm",props:{product:{type:Object,required:!0},brands:{type:Array,required:!0},categories:{type:Array,required:!0}},setup(d){const{product:l,brands:p,categories:x}=d,i=V.useToast(),g=S(M(l.image)),o=T({sku:l.sku,name:l.name,description:l.description,price:l.price,image:null,stock:l.stock.toString(),brand_id:l.brand_id,category_id:l.category_id});function U(f){const a=f.target.files[0];a&&(g.value=URL.createObjectURL(a),o.image=a)}const P=()=>{i.info("Updating product information..."),o.clearErrors(),D.postForm(route("api.admin.products.update",l.id),o.data(),{headers:{"Content-Type":"multipart/form-data"}}).then(f=>{i.success("Product information updated successfully!")}).catch(f=>{o.setError(f.response.data.errors),i.error("Something went wrong, please verify the information and try again.")})};return(f,a)=>(u(),m(b,null,[I,t("form",{onSubmit:C(P,["prevent"])},[t("div",A,[t("div",K,[s(n,{for:"sku",value:"SKU"}),s(y,{id:"sku",type:"number",class:"mt-1 block w-full",modelValue:e(o).sku,"onUpdate:modelValue":a[0]||(a[0]=r=>e(o).sku=r),required:"",autofocus:"",autocomplete:"sku"},null,8,["modelValue"]),s(c,{class:"mt-2",message:e(o).errors.sku},null,8,["message"])]),t("div",R,[s(n,{for:"name",value:"Name"}),s(y,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e(o).name,"onUpdate:modelValue":a[1]||(a[1]=r=>e(o).name=r),required:"",autocomplete:"name"},null,8,["modelValue"]),s(c,{class:"mt-2",message:e(o).errors.name},null,8,["message"])]),t("div",z,[s(n,{for:"description",value:"Description"}),v(t("textarea",{id:"description","onUpdate:modelValue":a[2]||(a[2]=r=>e(o).description=r),class:"resize-none w-full mt-1 px-3 py-2 text-gray-700 border rounded-md focus:outline-none border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},`
                `,512),[[j,e(o).description]]),s(c,{class:"mt-2",message:e(o).errors.description},null,8,["message"])]),t("div",Y,[s(n,{for:"price",value:"Price"}),s(y,{id:"price",type:"text",class:"mt-1 block w-full",modelValue:e(o).price,"onUpdate:modelValue":a[3]||(a[3]=r=>e(o).price=r),required:"",autocomplete:"price"},null,8,["modelValue"]),s(c,{class:"mt-2",message:e(o).errors.price},null,8,["message"])]),t("div",Z,[t("div",G,[s(n,{for:"image",value:"Image (800x800px)"}),t("input",{id:"image",type:"file",ref:"image",onChange:U,class:"w-full px-3 py-2 text-gray-700 border rounded-md focus:outline-none focus:border-indigo-500",accept:"image/jpeg, image/png, image/jpg"},null,544)]),g.value?(u(),m("img",{key:0,src:g.value,alt:"product image",class:"w-32 h-32 mt-2"},null,8,H)):q("",!0),s(c,{class:"mt-2",message:e(o).errors.image},null,8,["message"])]),t("div",J,[s(n,{for:"stock",value:"Stock"}),s(y,{id:"stock",type:"number",class:"mt-1 block w-full",modelValue:e(o).stock,"onUpdate:modelValue":a[4]||(a[4]=r=>e(o).stock=r),required:"",autocomplete:"stock"},null,8,["modelValue"]),s(c,{class:"mt-2",message:e(o).errors.stock},null,8,["message"])]),t("div",Q,[s(n,{for:"brand_id",value:"Brand"}),v(t("select",{id:"brand_id","onUpdate:modelValue":a[5]||(a[5]=r=>e(o).brand_id=r),class:"w-full px-3 py-2 text-gray-700 border rounded-md focus:outline-none border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},[(u(!0),m(b,null,w(d.brands,r=>(u(),m("option",{key:r.id,value:r.id},h(r.name),9,W))),128))],512),[[k,e(o).brand_id]]),s(c,{class:"mt-2",message:e(o).errors.brand_id},null,8,["message"])]),t("div",X,[s(n,{for:"category_id",value:"Category"}),v(t("select",{id:"category_id","onUpdate:modelValue":a[6]||(a[6]=r=>d.product.category_id=r),class:"w-full px-3 py-2 text-gray-700 border rounded-md focus:outline-none border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},[(u(!0),m(b,null,w(d.categories,r=>(u(),m("option",{key:r.id,value:r.id},h(r.name),9,ee))),128))],512),[[k,d.product.category_id]]),s(c,{class:"mt-2",message:e(o).errors.category_id},null,8,["message"])])]),s(N,{type:"submit",class:"mt-4"},{default:_(()=>[$(" Update Product ")]),_:1})],40,O)],64))}},se={class:"space-y-6"},oe=t("header",null,[t("h2",{class:"text-lg font-medium text-gray-900"},"Delete Product"),t("p",{class:"mt-1 text-sm text-gray-600"}," Once this product is deleted, all of its resources and data will be permanently deleted. ")],-1),re={__name:"DeleteProductForm",props:{product:Object},setup(d){const{product:l}=d,p=V.useToast(),x=()=>{axios(route("api.admin.products.destroy",l.id),{method:"DELETE"}).then(i=>{p.success("Product deleted successfully!"),setTimeout(()=>{window.location.href=route("admin.products.index")},1e3)}).catch(i=>{i.response.status===403?p.error("You don't have permission to perform this action"):p.error("Something went wrong, please try again later")})};return(i,g)=>(u(),m("section",se,[oe,s(B,{onClick:x},{default:_(()=>[$("Delete Product")]),_:1})]))}},ae={class:"font-semibold text-xl text-gray-800 leading-tight"},le={class:"py-12"},de={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6 p-4 sm:p-8 bg-white shadow sm:rounded-lg"},ie={class:"py-12"},ne={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6 p-4 sm:p-8 bg-white shadow sm:rounded-lg"},ve={__name:"Edit",setup(d){const{product:l,brands:p,categories:x}=F().props;return(i,g)=>(u(),m(b,null,[s(e(L),null,{default:_(()=>[t("title",null,"Edit product: "+h(e(l).sku),1)]),_:1}),s(E,null,{header:_(()=>[t("h2",ae,"Edit product: "+h(e(l).sku),1)]),default:_(()=>[t("div",le,[t("div",de,[s(te,{product:e(l),brands:e(p),categories:e(x)},null,8,["product","brands","categories"])])]),t("div",ie,[t("div",ne,[s(re,{product:e(l)},null,8,["product"])])])]),_:1})],64))}};export{ve as default};
