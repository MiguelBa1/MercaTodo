import{s as o,o as _,c as x}from"./transform-372bbc4d.js";import{b as C,l as b,m as w,a as q,c as P}from"./linear-9902658c.js";import{o as S,q as v,a as A,c as B,e as p}from"./app-af608028.js";import{T as k}from"./Tableau10-0a7c3835.js";const R={id:"products-sold-per-category",class:"bg-white p-6 rounded shadow"},T=p("h2",{class:"font-semibold text-lg mb-4"},"Products Sold per Category",-1),$=p("div",{id:"productsSoldPerCategoryChart"},null,-1),z=[T,$],U={__name:"ProductsSoldPerCategoryChart",props:{products_sold_per_category:{type:Array,required:!0}},setup(m){const{products_sold_per_category:g}=m;function h(){const r=o("#productsSoldPerCategoryChart").append("svg").attr("width",500).attr("height",500),a={top:20,right:20,bottom:100,left:40},u=+r.attr("width")-a.left-a.right,n=+r.attr("height")-a.top-a.bottom,l=r.append("g").attr("transform","translate("+a.left+","+a.top+")"),e=C().rangeRound([0,u]).padding(.1),s=b().rangeRound([n,0]),c=g.map(t=>({category_name:t.category_name,quantity:+t.quantity}));e.domain(c.map(t=>t.category_name)),s.domain([0,w(c,t=>t.quantity)]);const d=_(k),i=o("#tooltip");l.append("g").attr("transform","translate(0,"+n+")").call(q(e)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end").attr("dy","0.35em").attr("dx","-0.8em").attr("font-size","12px").attr("fill","#000"),l.append("g").call(P(s)).append("text").attr("fill","#000").attr("transform","rotate(-90)").attr("y",6).attr("dy","0.71em").attr("text-anchor","end").text("Quantity"),l.selectAll(".bar").data(c).enter().append("rect").attr("class","bar").attr("x",t=>e(t.category_name)).attr("y",t=>s(t.quantity)).attr("width",e.bandwidth()).attr("height",t=>n-s(t.quantity)).attr("fill",t=>d(t.category_name)).on("mouseover",function(t,y){const f=x(o(this).attr("fill")).brighter(.2);o(this).attr("fill",f),i.style("left",t.pageX+"px").style("top",t.pageY+"px").classed("show",!0).html(`<span>${y.quantity}</span>`)}).on("mouseout",function(){o(this).attr("fill",t=>d(t.category_name)),i.classed("show",!1)})}return S(()=>{h()}),v(()=>{o("#productsSoldPerCategoryChart").selectAll("*").remove()}),(r,a)=>(A(),B("div",R,z))}};export{U as default};
