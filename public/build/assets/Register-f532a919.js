import{K as x,T as C,r as V,a as n,k as S,w as u,b as t,u as e,Z as D,e as a,h as f,j as _,c as i,f as g,t as v,F as w,p as b,m as $,y as B,g as N}from"./app-af608028.js";import{_ as j}from"./GuestLayout-56b99cc3.js";import{_ as d}from"./InputError-e63fa01d.js";import{_ as r}from"./InputLabel-47059b8e.js";import{_ as A}from"./PrimaryButton-76370c3c.js";import{_ as m}from"./TextInput-836244fa.js";import"./ApplicationLogo-4d97a218.js";const F=a("title",null,"Register",-1),P=["onSubmit"],R={class:"sm:grid sm:grid-cols-2 gap-2"},T={class:"mt-4 sm:mt-0"},E={class:"mt-4 sm:mt-0"},L={class:"mt-4 sm:mt-0"},M={class:"mt-4 sm:mt-0"},z={class:"mt-4 sm:mt-0"},K=a("option",{value:"",disabled:"",selected:""},"Select a type",-1),Z=["value"],G={class:"mt-4 sm:mt-0"},H={class:"mt-4 sm:mt-0"},I={class:"mt-4 sm:mt-0"},J=a("option",{value:"",disabled:"",selected:""},"Select a department",-1),O=["value"],Q={class:"mt-4 sm:mt-0"},W=a("option",{value:"",disabled:"",selected:""},"Select a city",-1),X=["value"],Y={class:"flex items-center justify-end mt-4"},me={__name:"Register",setup(ee){const{document_types:h,departments:k}=x().props,s=C({name:"",surname:"",email:"",password:"",password_confirmation:"",document:"",document_type:"",phone:"",address:"",city_id:"",terms:!1}),c=V(""),y=V({}),U=async()=>{const p=await fetch(route("api.cities.index",c.value));y.value=await p.json()},q=()=>{s.post(route("register"),{onFinish:()=>s.reset("password","password_confirmation")})};return(p,l)=>(n(),S(j,null,{default:u(()=>[t(e(D),null,{default:u(()=>[F]),_:1}),a("form",{onSubmit:N(q,["prevent"])},[a("div",R,[a("div",null,[t(r,{for:"name",value:"Name"}),t(m,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e(s).name,"onUpdate:modelValue":l[0]||(l[0]=o=>e(s).name=o),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.name},null,8,["message"])]),a("div",null,[t(r,{for:"surname",value:"Surname"}),t(m,{id:"surname",type:"text",class:"mt-1 block w-full",modelValue:e(s).surname,"onUpdate:modelValue":l[1]||(l[1]=o=>e(s).surname=o),required:"",autocomplete:"surname"},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.surname},null,8,["message"])]),a("div",T,[t(r,{for:"email",value:"Email"}),t(m,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e(s).email,"onUpdate:modelValue":l[2]||(l[2]=o=>e(s).email=o),required:"",autocomplete:"username"},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.email},null,8,["message"])]),a("div",E,[t(r,{for:"password",value:"Password"}),t(m,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:e(s).password,"onUpdate:modelValue":l[3]||(l[3]=o=>e(s).password=o),required:"",autocomplete:"new-password"},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.password},null,8,["message"])]),a("div",L,[t(r,{for:"password_confirmation",value:"Confirm Password"}),t(m,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:e(s).password_confirmation,"onUpdate:modelValue":l[4]||(l[4]=o=>e(s).password_confirmation=o),required:"",autocomplete:"new-password"},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.password_confirmation},null,8,["message"])]),a("div",M,[t(r,{for:"document",value:"Document"}),t(m,{id:"document",type:"number",class:"mt-1 block w-full",modelValue:e(s).document,"onUpdate:modelValue":l[5]||(l[5]=o=>e(s).document=o),required:"",autocomplete:"document",oninput:"this.value = this.value.replace(/[^0-9]/g, '')"},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.document},null,8,["message"])]),a("div",z,[t(r,{for:"document_type",value:"Document Type"}),f(a("select",{id:"document_type",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":l[6]||(l[6]=o=>e(s).document_type=o),required:"",autocomplete:"document_type"},[K,(n(!0),i(w,null,g(e(h),o=>(n(),i("option",{value:o},v(o),9,Z))),256))],512),[[_,e(s).document_type]]),t(d,{class:"mt-2",message:e(s).errors.document_type},null,8,["message"])]),a("div",G,[t(r,{for:"phone",value:"Phone"}),t(m,{id:"phone",type:"number",class:"mt-1 block w-full",modelValue:e(s).phone,"onUpdate:modelValue":l[7]||(l[7]=o=>e(s).phone=o),required:"",autocomplete:"phone",oninput:"this.value = this.value.replace(/[^0-9]/g, '')"},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.phone},null,8,["message"])]),a("div",H,[t(r,{for:"address",value:"Address"}),t(m,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:e(s).address,"onUpdate:modelValue":l[8]||(l[8]=o=>e(s).address=o),required:"",autocomplete:"address"},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.address},null,8,["message"])]),a("div",I,[t(r,{for:"departments",value:"Department"}),f(a("select",{id:"departments",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":l[9]||(l[9]=o=>c.value=o),required:"",autocomplete:"department_id",onChange:U},[J,(n(!0),i(w,null,g(e(k),o=>(n(),i("option",{value:o.id,key:o.id},v(o.name),9,O))),128))],544),[[_,c.value]])]),a("div",Q,[t(r,{for:"cities",value:"City"}),f(a("select",{id:"cities",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":l[10]||(l[10]=o=>e(s).city_id=o),required:"",autocomplete:"city_id"},[W,(n(!0),i(w,null,g(y.value,o=>(n(),i("option",{value:o.id,key:o.id},v(o.name.charAt(0).toUpperCase()+o.name.toLowerCase().slice(1)),9,X))),128))],512),[[_,e(s).city_id]]),t(d,{class:"mt-2",message:e(s).errors.city_id},null,8,["message"])])]),a("div",Y,[t(e($),{href:p.route("login"),class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:u(()=>[b(" Already registered? ")]),_:1},8,["href"]),t(A,{class:B(["ml-4",{"opacity-25":e(s).processing}]),disabled:e(s).processing},{default:u(()=>[b(" Register ")]),_:1},8,["class","disabled"])])],40,P)]),_:1}))}};export{me as default};
