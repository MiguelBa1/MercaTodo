import{E as s,i as e}from"./app-af608028.js";const n=s({id:"mainStore",state:()=>({cart:[],isCartSynced:!1}),getters:{cartItemsCount(){return Object.keys(this.cart).length}},actions:{async addToCart(t,a=1){const r=await e.post(route("api.cart.store"),{product_id:t,quantity:a});return await this.syncCart(!0),r},async syncCart(t=!1){if(!this.isCartSynced||t){const{data:a}=await e.get(route("api.cart.index"));this.cart=a,this.isCartSynced=!0}},async removeFromCart(t){const a=await e.delete(route("api.cart.destroy",t));return await this.syncCart(!0),a}}});export{n as u};
